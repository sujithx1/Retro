<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="" />
    <meta property="og:type" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <!-- Favicon -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/assets/imgs/theme/favicon.svg"
    />
    <!-- Template CSS -->
    <link href="/assets/css/main.css" rel="stylesheet" type="text/css" />
    <!-- Include SweetAlert CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />

    <style>
      li {
        list-style-type: none;
      }
      table {
  font-family: Arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #ddd;
  padding: 8px;
}

th {
  text-align: left;
  background-color: #f2f2f2;
}

    </style>
  </head>

  <body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
      <div class="aside-top">
        <a href="index.html" class="brand-wrap">
          <img
            src="/assets/imgs/theme/logo.svg"
            class="logo"
            alt="Evara Dashboard"
          />
        </a>
        <div>
          <button class="btn btn-icon btn-aside-minimize">
            <i class="text-muted material-icons md-menu_open"></i>
          </button>
        </div>
      </div>
      <nav>
        <ul class="menu-aside">
          <li class="menu-item">
            <a class="menu-link" href="home">
              <i class="icon material-icons md-home"></i>
              <span class="text">Dashboard</span>
            </a>
          </li>
          <li class="menu-item">
            <a class="menu-link" href="product">
              <i class="icon material-icons md-shopping_bag"></i>
              <span class="text">Products</span>
            </a>
            <!-- <div class="submenu">
                        <a href="page-products-list.html">Product List</a>
                        <a href="page-products-grid.html">Product grid</a>
                        <a href="page-products-grid-2.html">Product grid 2</a>
                        <a href="page-categories.html">Categories</a>
                    </div> -->
          </li>
          <li class="menu-item">
            <a class="menu-link" href="orderlist">
              <i class="icon material-icons md-shopping_cart"></i>
              <span class="text">Orders</span>
            </a>
            <!-- <div class="submenu">
                        <a href="page-orders-1.html" class="active">Order list 1</a>
                        <a href="page-orders-2.html">Order list 2</a>
                        <a href="page-orders-detail.html">Order detail</a>
                        <a href="page-orders-tracking.html">Order tracking</a>
<a href="page-invoice.html">Invoice</a>
                    </div> -->
          </li>
          <li class="menu-item">
            <a class="menu-link" href="users">
              <i class="icon material-icons md-store"></i>
              <span class="text">Users</span>
            </a>
            <!-- <div class="submenu">
                        <a href="page-sellers-cards.html">Sellers cards</a>
                        <a href="page-sellers-list.html">Sellers list</a>
                        <a href="page-seller-detail.html">Seller profile</a>
                    </div> -->
          </li>
          <li class="menu-item">
            <a class="menu-link" href="addproduct">
              <i class="icon material-icons md-add_box"></i>
              <span class="text">Add product</span>
            </a>
            <!-- <div class="submenu">
                        <a href="page-form-product-1.html">Add product 1</a>
                        <a href="page-form-product-2.html">Add product 2</a>
                        <a href="page-form-product-3.html">Add product 3</a>
                        <a href="page-form-product-4.html">Add product 4</a>
                    </div> -->
          </li>
          <li class="menu-item">
            <a class="menu-link" href="category">
              <i class="icon material-icons md-store"></i>
              <span class="text">Categories</span>
            </a>
            <!-- <li class="menu-item has-submenu">
                    <a class="menu-link" href="page-transactions-1.html"> <i class="icon material-icons md-monetization_on"></i>
                        <span class="text">Transactions</span>
                    </a> -->
            <!-- <div class="submenu">
                        <a href="page-transactions-1.html">Transaction 1</a>
                        <a href="page-transactions-2.html">Transaction 2</a>
                        <a href="page-transactions-details.html">Transaction Details</a>
                    </div> -->
          </li>
          <li class="menu-item">
            <a class="menu-link" href="/admin/coupons">
              <i class="icon material-icons md-stars"></i>
              <span class="text">Coupons</span>
            </a>
          </li>
          <!-- <li class="menu-item ">
            <a class="menu-link" href="#">
              <i class="icon material-icons md-person"></i>
              <span class="text">Account</span>
            </a> -->
            <!-- <div class="submenu">
              <a href="page-account-login.html">User login</a>
              <a href="page-account-register.html">User registration</a>
              <a href="page-error-404.html">Error 404</a>
            </div>-->
          <!-- </li>  -->
          <li class="menu-item active" >
            <a class="menu-link" href="/admin/offer" >
              <i class="icon material-icons md-comment"></i>
              <span class="text">Offer</span>
            </a>
          </li>
          
          <li class="menu-item">
            <a class="menu-link" disabled href="#">
              <i class="icon material-icons md-pie_chart"></i>
              <span class="text">Statistics</span>
            </a>
          </li>
        </ul>
        <hr />
        <ul class="menu-aside">
          <li class="menu-item has-submenu">
            <a class="menu-link" href="#">
              <i class="icon material-icons md-settings"></i>
              <span class="text">Settings</span>
            </a>
            <div class="submenu">
              <a href="page-settings-1.html">Setting sample 1</a>
              <a href="page-settings-2.html">Setting sample 2</a>
            </div>
          </li>
          <li class="menu-item">
            <a class="menu-link" href="page-blank.html">
              <i class="icon material-icons md-local_offer"></i>
              <span class="text"> Starter page </span>
            </a>
          </li>
        </ul>
        <br />
        <br />
      </nav>
    </aside>

<main class="main-wrap">

    <div ></div>
    <section class="content-main">
        <div class="row">
            <div class="col-9">
                <div class="content-header">
                    <h2 class="content-title">Add New Product Offer</h2>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4>Offer Details</h4>
                    </div>
                    <div class="card-body">
                        <form  id="productAdd" action="/admin/offer/product/add" method="post" onsubmit="return validateForm()">

                            <div class="mb-4">
                                <label  class="form-label">Choose Product</label>
                                <select id="productSelect" name="product"  onselect="return vlaidate_offerProduct()" class="form-select">
                                   
                                    <% if(product) {%>
                                      <option  value=""> select</option>
                                      <% product.forEach(product => {%>
                                    <option value="<%= product._id %>"  > <%= product.name %>  </option>
                                    <%}) %>
                                    <%}%>
                                </select>
                                <!-- <div id="error-product" class="text-danger"></div> -->
                                <div id="productError" class="text-danger mt-2" style="display: none;">Please select a product.</div>
                            </div>

                            </select>
                            <div class="mb-4">
                                <label  class="form-label">Offer Name</label>
                                <input type="text"  name="offerName" id="offerName" oninput="return validate_offerName()"  class="form-control"/>
                                
                                <div id="error-offerName" class="text-danger" ></div>

                            </div>
                            <div class="mb-4">
                                <label  class="form-label">Offer Description</label>
                                <input type="text"  id="description" name="description"  oninput="return validate_offerdescription()"  class="form-control"/>
                                <div id="error-description" class="text-danger">  </div>
                            </div>
                            <div class="mb-4">
                                <label  class="form-label">Offer Percentage</label>
                                <input type="text" id="Percentage" name="offerPercentage"  oninput="return vlaidate_offerProduct()"  class="form-control"/>
                                <div id="error-percentage" class="text-danger"></div>
                            <div class="mb-4">
                                <label  class="form-label">Offer Type</label>
                                <input type="text" value="Product Offer" name="offerType"   class="form-control"  readonly  />
                            </div>
                            <button class="btn btn-primary" type="submit">Save</button>

                        </form>

                    </div>
                </div> <!-- card end// -->
            </div>
        </div>
    </section> <!-- content-main end// -->
    <div ></div>

</main>

<div </div>

<script>
    // function validateForm() {
    //     var productSelect = document.getElementById("productSelect")
    //     // var errorDiv = document.getElementById("error");
    //     var offerName=  document.getElementById('offerName').value
    //    var description= document.getElementById('description').value
    //     var Percentage= document.getElementById('Percentage').value
    //     returntrue





    //       if (productSelect.value === "") {
    //        document.getElementById('error-product').innerHTML="Please Select category ";
    //         isValid= false;
    //       } else {
    //        document.getElementById('error-product').innerHTML=""

            
    //         isValid= true;
    //     }
    //     if(offerName==="")
    //   {
    //     document.getElementById('error-offerName').innerHTML="please fill the offerName"
    //     isValid= false
    //   }else
    //   {
    //     document.getElementById('error-offerName').innerHTML=""
    //     isValid= true
    //   }
    //   if(description==="")
    //   {

    //     document.getElementById('error-description').innerHTML="please Enter the Decription"

    //    isValid= false

    //   }
    //   else
    //   {
    //     document.getElementById('error-description').innerHTML=""

    //     isValid= true
    //   }
    //   if(Percentage==="" )
    //   {
    //     document.getElementById('error-percentage').innerHTML="plese enter the percentage"
    //     isValid= false
    //   }else if (isNaN(Percentage) ){
    //     document.getElementById('error-percentage').innerHTML="please eneter the valide percentage"
    //     isValid= false


    //   }
    //   else
    //   {
    //     document.getElementById('error-percentage').innerHTML=""
    //     isValid= true
    //   }
    //   return isValid


        
    // }

    
    function validateOfferProduct() {
    const productSelect = document.getElementById('productSelect');
    const productError = document.getElementById('productError');
    
    if (productSelect.value === "") {
        productError.style.display = 'block';
        return false;  // Prevent form submission
    } else {
        productError.style.display = 'none';
        return true;  // Allow form submission
    }
}
  
       function validate_offerName()
       {
        var offerName=  document.getElementById('offerName').value
  
     
  
  
        if(offerName==="")
        {
          document.getElementById('error-offerName').innerHTML="please fill the offerName"
  return false
        }else
        {
          document.getElementById('error-offerName').innerHTML=""
  return true
        }
       }
  
  
       function validate_offerdescription()
       {
        var description= document.getElementById('description').value
      
        if(description==="")
        {
          
  
          document.getElementById('error-description').innerHTML="please Enter the Decription"
  
  return false
  
        }
        else
        {
          document.getElementById('error-description').innerHTML=""
  
  return true
        }
  
       }
  
  
       function validate_offerpercentage()
       {
        var Percentage= document.getElementById('Percentage').value
     
  
  
        
        if(Percentage==="" )
        {
          document.getElementById('error-percentage').innerHTML="plese enter the percentage"
  return false
        }else if (isNaN(Percentage) ){
          document.getElementById('error-percentage').innerHTML="please eneter the valide percentage"
  return false
  
  
        }
        else
        {
          document.getElementById('error-percentage').innerHTML=""
  return true
        }
       }
       function validateForm() {
       
     
      
       return validateOfferProduct()&& validate_offerName()&&validate_offerdescription()&&validate_offerpercentage()
  
  
          
       }
  


    // document.getElementById("yourFormId").addEventListener("submit", function(event) {
    //     if (!validateForm()) {
    //         event.preventDefault();
    //     }
    // });
</script>
<script src="/assets/js/vendors/jquery-3.6.0.min.js"></script>
<script src="/assets/js/vendors/bootstrap.bundle.min.js"></script>
<script src="/assets/js/vendors/select2.min.js"></script>
<script src="/assets/js/vendors/perfect-scrollbar.js"></script>
<script src="/assets/js/vendors/jquery.fullscreen.min.js"></script>
<!-- Main Script -->
<script src="/assets/js/main.js" type="text/javascript"></script>
</body>



</html>